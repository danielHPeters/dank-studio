!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=6)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.KICK=0]="KICK",e[e.SNARE=1]="SNARE",e[e.HITHAT=2]="HITHAT",e[e.NOTE=3]="NOTE"}(t.ESoundType||(t.ESoundType={}))},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.id=e,this.element=document.getElementById(this.id),this.keyBoard=t}addKey(e,t){const s=document.createElement("li"),i=document.createElement("span"),n=document.createTextNode(e),o=document.createTextNode(t),r=document.createElement("br");i.appendChild(n),i.appendChild(r),i.appendChild(o),i.classList.add("keyDescription"),s.appendChild(i),s.classList.add("key"),s.setAttribute("id",e),s.addEventListener("mouseenter",t=>this.keyBoard.setDownEvent(e)),s.addEventListener("touchstart",t=>this.keyBoard.setDownEvent(e)),s.addEventListener("mouseleave",t=>this.keyBoard.setUpEvent(e)),s.addEventListener("touchend",t=>this.keyBoard.setUpEvent(e)),this.element.appendChild(s)}addAllKeys(){this.keyBoard.keySoundMap.forEach((e,t)=>this.addKey(t,e.frequency.toString()))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.context=e,this.frequency=t}init(){const e=this.context.currentTime;this.oscillator=this.context.createOscillator(),this.gain=this.context.createGain(),this.oscillator.connect(this.gain),this.gain.connect(this.context.destination),this.oscillator.frequency.setValueAtTime(this.frequency,e),this.gain.gain.setValueAtTime(1,e),this.oscillator.frequency.exponentialRampToValueAtTime(.01,e+.5),this.gain.gain.exponentialRampToValueAtTime(.01,e+.5),this.oscillator.start(e),this.oscillator.stop(e+.5)}play(e=!1,t=0){}stop(e=0){}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,s,i,n){this.context=e,this.frequency=t,this.noiseFrequency=s,this.noiseFilter=i,this.oscillatorType=n}createNoiseBuffer(){const e=this.context.sampleRate,t=this.context.createBuffer(1,e,this.context.sampleRate),s=t.getChannelData(0);for(let t=0;t<e;t++)s[t]=2*Math.random()-1;return t}init(){this.noiseGain=this.context.createGain(),this.gain=this.context.createGain(),this.noise=this.context.createBufferSource(),this.oscillator=this.context.createOscillator();const e=this.context.currentTime,t=this.context.createBiquadFilter();this.noise.buffer=this.createNoiseBuffer(),t.type=this.noiseFilter,t.frequency.value=this.noiseFrequency,this.noise.connect(t),t.connect(this.noiseGain),this.noiseGain.connect(this.gain),this.oscillator.type=this.oscillatorType,this.oscillator.connect(this.oscillatorGain),this.oscillatorGain.connect(this.gain),this.gain.connect(this.context.destination),this.noiseGain.gain.setValueAtTime(1,e),this.noiseGain.gain.exponentialRampToValueAtTime(.01,e+.2),this.noise.start(e),this.oscillator.frequency.setValueAtTime(this.frequency,e),this.gain.gain.setValueAtTime(.7,e),this.gain.gain.exponentialRampToValueAtTime(.01,e+.1),this.oscillator.start(e),this.oscillator.stop(e+.2),this.noise.stop(e+.2)}play(e=!1,t=0){}stop(e=0){}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,s,i){this.context=e,this.compressor=t,this.frequency=s,this.oscillatorType=i}init(){this.oscillator=this.context.createOscillator(),this.gain=this.context.createGain(),this.gain.connect(this.compressor),this.oscillator.type=this.oscillatorType,this.oscillator.frequency.value=this.frequency,this.oscillator.connect(this.gain),this.gain.gain.setValueAtTime(0,this.context.currentTime),this.gain.gain.linearRampToValueAtTime(.4,this.context.currentTime+.1),this.oscillator.start(.5)}play(e=!1,t=0){}stop(e=0){this.gain.gain.linearRampToValueAtTime(0,this.context.currentTime+.8),this.oscillator.stop(this.context.currentTime+2.8)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4),n=s(3),o=s(2),r=s(0);var a;!function(e){e.ACTIVE="keyActive"}(a=t.KeyboardStyles||(t.KeyboardStyles={}));t.default=class{constructor(){try{this.context=new AudioContext,this.compressor=this.context.createDynamicsCompressor(),this.keySoundMap=new Map,this.registeredInputs=new Map,this.initCompressor(),this.registerKeyHandler()}catch(e){console.log("This browser does not support Web Audio API.",e)}}registerKey(e,t,s=r.ESoundType.NOTE,a="sawtooth"){switch(s){case r.ESoundType.NOTE:this.keySoundMap.set(e,new i.default(this.context,this.compressor,t,a));break;case r.ESoundType.SNARE:this.keySoundMap.set(e,new n.default(this.context,t,1e3,"highpass","triangle"));break;case r.ESoundType.KICK:this.keySoundMap.set(e,new o.default(this.context,t));break;case r.ESoundType.HITHAT:}}setDownEvent(e){void 0!==!this.registeredInputs.get(e)&&void 0!==this.keySoundMap.get(e)&&(document.getElementById(e).classList.add(a.ACTIVE),this.keySoundMap.get(e).init(),this.keySoundMap.get(e).play(),this.registeredInputs.set(e,!0))}setUpEvent(e){void 0!==this.registeredInputs.get(e)&&void 0!==this.keySoundMap.get(e)&&(document.getElementById(e).classList.remove(a.ACTIVE),this.keySoundMap.get(e).stop(),this.registeredInputs.set(e,!1))}initCompressor(){this.compressor.threshold.value=-50,this.compressor.knee.value=40,this.compressor.ratio.value=12,this.compressor.attack.value=0,this.compressor.release.value=.25,this.compressor.connect(this.context.destination)}registerKeyHandler(){window.addEventListener("keydown",e=>this.setDownEvent(e.key)),window.addEventListener("keyup",e=>this.setUpEvent(e.key))}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(5),n=s(1),o=s(0);document.addEventListener("DOMContentLoaded",()=>{const e=new i.default,t=new n.default("keyPad",e);document.getElementById("kick"),document.getElementById("snare");e.registerKey("a",261.63),e.registerKey("s",293.66),e.registerKey("d",329.63),e.registerKey("f",349.23),e.registerKey("g",392),e.registerKey("h",440),e.registerKey("j",493.88),e.registerKey("k",523.25),e.registerKey("q",150,o.ESoundType.KICK),e.registerKey("w",100,o.ESoundType.SNARE),t.addAllKeys()})}]);
//# sourceMappingURL=studio.js.map